(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{629:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"vue组件间通信的方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue组件间通信的方式"}},[s._v("#")]),s._v(" Vue组件间通信的方式")]),s._v(" "),t("h2",{attrs:{id:"一、组件间通信的概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、组件间通信的概念"}},[s._v("#")]),s._v(" 一、组件间通信的概念")]),s._v(" "),t("p",[s._v("组件是"),t("code",[s._v("vue")]),s._v("最强大的功能之一，"),t("code",[s._v("vue")]),s._v("中每一个"),t("code",[s._v(".vue")]),s._v("我们都可以视之为一个组件通信指的是发送者通过某种媒体以某种格式来传递信息到收信者以达到某个目的。")]),s._v(" "),t("p",[s._v("广义上，任何信息的交通都是通信"),t("strong",[s._v("组件间通信")]),s._v("，即指组件("),t("code",[s._v(".vue")]),s._v(")通过某种方式来传递信息以达到某个目的。")]),s._v(" "),t("p",[s._v("举个栗子我们在使用"),t("code",[s._v("UI")]),s._v("框架中的"),t("code",[s._v("table")]),s._v("组件，可能会往"),t("code",[s._v("table")]),s._v("组件中传入某些数据，这个本质就形成了组件之间的通信。")]),s._v(" "),t("p",[t("strong",[s._v("组件间通信的分类：")])]),s._v(" "),t("ul",[t("li",[s._v("父子组件之间的通信")]),s._v(" "),t("li",[s._v("兄弟组件之间的通信")]),s._v(" "),t("li",[s._v("祖孙与后代组件之间的通信")]),s._v(" "),t("li",[s._v("非关系组件间之间的通信")])]),s._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://could-img.oss-cn-hangzhou.aliyuncs.com/202210141633667.png",alt:"img"}}),s._v(" "),t("h2",{attrs:{id:"二、组件间通信的方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、组件间通信的方案"}},[s._v("#")]),s._v(" 二、组件间通信的方案")]),s._v(" "),t("p",[s._v("整理"),t("code",[s._v("vue")]),s._v("中8种常规的通信方案")]),s._v(" "),t("ol",[t("li",[s._v("通过 props 传递")]),s._v(" "),t("li",[s._v("通过 $emit 触发自定义事件")]),s._v(" "),t("li",[s._v("使用 ref")]),s._v(" "),t("li",[s._v("EventBus")]),s._v(" "),t("li",[s._v("$parent 或$root")]),s._v(" "),t("li",[s._v("attrs 与 listeners")]),s._v(" "),t("li",[s._v("Provide 与 Inject")]),s._v(" "),t("li",[s._v("Vuex")])]),s._v(" "),t("h3",{attrs:{id:"_2-1-props传递数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-props传递数据"}},[s._v("#")]),s._v(" 2.1 props传递数据")]),s._v(" "),t("img",{staticStyle:{zoom:"60%"},attrs:{src:"https://static.vue-js.com/8f80a670-3aca-11eb-ab90-d9ae814b240d.png",alt:"img"}}),s._v(" "),t("ul",[t("li",[s._v("适用场景：父组件传递数据给子组件")]),s._v(" "),t("li",[s._v("子组件设置"),t("code",[s._v("props")]),s._v("属性，定义接收父组件传递过来的参数")]),s._v(" "),t("li",[s._v("父组件在使用子组件标签中通过字面量来传递值")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Children.vue\nprops:{  \n    // 字符串形式  \n name:String // 接收的类型参数  \n    // 对象形式  \n    age:{    \n        type:Number, // 接收的类型为数值  \n        defaule:18,  // 默认值为18  \n       require:true // age属性必须传递  \n    }  \n}  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("code",[s._v("Father.vue")]),s._v("组件")]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[s._v('< Children name="jack" age=18 />  \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-2-emit-触发自定义事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-emit-触发自定义事件"}},[s._v("#")]),s._v(" 2.2 $emit 触发自定义事件")]),s._v(" "),t("ul",[t("li",[s._v("适用场景：子组件传递数据给父组件")]),s._v(" "),t("li",[s._v("子组件通过"),t("code",[s._v("$emit触发")]),s._v("自定义事件，"),t("code",[s._v("$emit")]),s._v("第二个参数为传递的数值")]),s._v(" "),t("li",[s._v("父组件绑定监听器获取到子组件传递过来的参数")])]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[s._v("Chilfen.vue\nthis.$emit('add', good)  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[s._v('Father.vue\n< Children @add="cartAdd($event)" />  \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-3-ref"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ref"}},[s._v("#")]),s._v(" 2.3 ref")]),s._v(" "),t("ul",[t("li",[s._v("父组件在使用子组件的时候设置"),t("code",[s._v("ref")])]),s._v(" "),t("li",[s._v("父组件通过设置子组件"),t("code",[s._v("ref")]),s._v("来获取数据")])]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("Father")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("Children")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("Father")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\nthis.$refs.foo  // 获取子组件实例，通过子组件实例我们就能拿到对应的数据  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_2-4-eventbus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-eventbus"}},[s._v("#")]),s._v(" 2.4 EventBus")]),s._v(" "),t("ul",[t("li",[s._v("使用场景：兄弟组件传值")]),s._v(" "),t("li",[s._v("创建一个全局事件总线"),t("code",[s._v("EventBus")])]),s._v(" "),t("li",[s._v("兄弟组件通过"),t("code",[s._v("$emit")]),s._v("触发自定义事件，"),t("code",[s._v("$emit")]),s._v("第二个参数为传递的数值")]),s._v(" "),t("li",[s._v("另一个兄弟组件通过"),t("code",[s._v("$on")]),s._v("监听自定义事件")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Bus.js\n// 创建一个中央时间总线类  \nclass Bus {  \n  constructor() {  \n    this.callbacks = {};   // 存放事件的名字  \n  }  \n  $on(name, fn) {  \n    this.callbacks[name] = this.callbacks[name] || [];  \n    this.callbacks[name].push(fn);  \n  }  \n  $emit(name, args) {  \n    if (this.callbacks[name]) {  \n      this.callbacks[name].forEach((cb) => cb(args));  \n    }  \n  }  \n}  \n  \n// main.js  \nVue.prototype.$bus = new Bus() // 将$bus挂载到vue实例的原型上  \n// 另一种方式  \nVue.prototype.$bus = new Vue() // Vue已经实现了Bus的功能  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Children1.vue\nthis.$bus.$emit('foo')  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Children2.vue\nthis.$bus.$on('foo', this.handle)  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-5-parent-或-root"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-parent-或-root"}},[s._v("#")]),s._v(" 2.5  "),t("code",[s._v("$parent")]),s._v(" 或"),t("code",[s._v("$root")])]),s._v(" "),t("ul",[t("li",[s._v("通过共同祖辈"),t("code",[s._v("$parent")]),s._v("或者"),t("code",[s._v("$root")]),s._v("搭建通信桥连")])]),s._v(" "),t("p",[s._v("兄弟组件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("this.$parent.on('add',this.add)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("另一个兄弟组件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("this.$parent.emit('add')\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-6-attrs-与-listeners"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-attrs-与-listeners"}},[s._v("#")]),s._v(" 2.6 "),t("code",[s._v("$attrs")]),s._v(" 与"),t("code",[s._v("$listeners")])]),s._v(" "),t("ul",[t("li",[s._v("适用场景：祖先传递数据给子孙")]),s._v(" "),t("li",[s._v("设置批量向下传属性"),t("code",[s._v("$attrs")]),s._v("和 "),t("code",[s._v("$listeners")])]),s._v(" "),t("li",[s._v("包含了父级作用域中不作为 "),t("code",[s._v("prop")]),s._v(" 被识别 (且获取) 的特性绑定 ( class 和 style 除外)。")]),s._v(" "),t("li",[s._v("可以通过 "),t("code",[s._v('v-bind="$attrs"')]),s._v(" 传⼊内部组件")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// child：并未在props中声明foo  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("$attrs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// parent  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("HelloWorld foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 给Grandson隔代传值，communication/index.vue  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Child2 msg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lalala"')]),s._v(" @some"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("event"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"onSomeEvent"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Child2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Child2做展开  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Grandson v"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bind"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$attrs"')]),s._v(" v"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("on"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$listeners"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Grandson"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Grandson使⽤  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div @click"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"$emit('some-event', 'msg from grandson')\"")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"_2-7-provide-与-inject"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-provide-与-inject"}},[s._v("#")]),s._v(" 2.7 provide 与 inject")]),s._v(" "),t("ul",[t("li",[s._v("在祖先组件定义"),t("code",[s._v("provide")]),s._v("属性，返回传递的值")]),s._v(" "),t("li",[s._v("在后代组件通过"),t("code",[s._v("inject")]),s._v("接收组件传递过来的值")])]),s._v(" "),t("p",[s._v("祖先组件：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provide")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n        foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo'")]),s._v("  \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("后代组件：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("inject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取到祖先组件传递过来的值  ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-8-vuex"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-vuex"}},[s._v("#")]),s._v(" 2.8 "),t("code",[s._v("vuex")])]),s._v(" "),t("ul",[t("li",[s._v("适用场景: 复杂关系的组件数据传递")]),s._v(" "),t("li",[t("code",[s._v("Vuex")]),s._v("作用相当于一个用来存储共享变量的容器 "),t("img",{attrs:{src:"https://static.vue-js.com/fa207cd0-3aca-11eb-ab90-d9ae814b240d.png",alt:"img"}})]),s._v(" "),t("li",[t("code",[s._v("state")]),s._v("用来存放共享变量的地方")]),s._v(" "),t("li",[t("code",[s._v("getter")]),s._v("，可以增加一个"),t("code",[s._v("getter")]),s._v("派生状态，(相当于"),t("code",[s._v("store")]),s._v("中的计算属性），用来获得共享变量的值")]),s._v(" "),t("li",[t("code",[s._v("mutations")]),s._v("用来存放修改"),t("code",[s._v("state")]),s._v("的方法。")]),s._v(" "),t("li",[t("code",[s._v("actions")]),s._v("也是用来存放修改state的方法，不过"),t("code",[s._v("action")]),s._v("是在"),t("code",[s._v("mutations")]),s._v("的基础上进行。常用来做一些异步操作")])]),s._v(" "),t("h3",{attrs:{id:"小结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),t("ul",[t("li",[s._v("父子关系的组件数据传递选择 "),t("code",[s._v("props")]),s._v(" 与 "),t("code",[s._v("$emit")]),s._v("进行传递，也可选择"),t("code",[s._v("ref")])]),s._v(" "),t("li",[s._v("兄弟关系的组件数据传递可选择"),t("code",[s._v("$bus")]),s._v("，其次可以选择"),t("code",[s._v("$parent")]),s._v("进行传递")]),s._v(" "),t("li",[s._v("祖先与后代组件数据传递可选择"),t("code",[s._v("attrs")]),s._v("与"),t("code",[s._v("listeners")]),s._v("或者 "),t("code",[s._v("Provide")]),s._v("与 "),t("code",[s._v("Inject")])]),s._v(" "),t("li",[s._v("复杂关系的组件数据传递可以通过"),t("code",[s._v("vuex")]),s._v("存放共享的变量")])])])}),[],!1,null,null,null);a.default=n.exports}}]);